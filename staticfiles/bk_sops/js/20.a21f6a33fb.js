(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1e3:function(a,e,t){"use strict";t.r(e);var i={name:"taskList",components:{ContentLoader:t(686).a},props:{loadingConf:{type:Object,default:function(){return{primaryColor:"#ebecf3",secondaryColor:"#f6f7fb"}}}}},r=t(9),n=Object(r.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("content-loader",{attrs:{width:1366,height:600,speed:a.loadingConf.speed,"primary-color":a.loadingConf.primaryColor,"secondary-color":a.loadingConf.secondaryColor}},[t("path",{attrs:{d:"M 0 0 h 120 v 32 h -120 z"}}),a._v(" "),t("path",{attrs:{d:"M 940 6 h 68 v 20 h -68 z"}}),a._v(" "),t("path",{attrs:{d:"M 1046 0 h 360 v 32 h -360 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 52 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 92 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 132 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 172 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 212 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 252 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 292 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 332 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 372 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 412 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}})])}),[],!1,null,null,null);e.default=n.exports},1001:function(a,e,t){"use strict";t.r(e);var i={name:"templateList",components:{ContentLoader:t(686).a},props:{loadingConf:{type:Object,default:function(){return{primaryColor:"#ebecf3",secondaryColor:"#f6f7fb"}}}}},r=t(9),n=Object(r.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("content-loader",{attrs:{width:1366,height:600,speed:a.loadingConf.speed,"primary-color":a.loadingConf.primaryColor,"secondary-color":a.loadingConf.secondaryColor}},[t("path",{attrs:{d:"M 0 0 h 120 v 32 h -120 z"}}),a._v(" "),t("path",{attrs:{d:"M 145 0 h 68 v 32 h -68 z"}}),a._v(" "),t("path",{attrs:{d:"M 231 0 h 68 v 32 h -68 z"}}),a._v(" "),t("path",{attrs:{d:"M 927 6 h 80 v 24 h -80 z"}}),a._v(" "),t("path",{attrs:{d:"M 1046 0 h 320 v 32 h -320 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 52 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 92 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 132 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 172 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 212 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 252 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 292 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 332 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 372 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 412 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}})])}),[],!1,null,null,null);e.default=n.exports},1175:function(a,e,t){},1428:function(a,e,t){"use strict";t(1175)},582:function(a,e,t){"use strict";t.r(e);t(26),t(38),t(49),t(22),t(50);var i=t(16),r=t.n(i),n=t(0),o=t.n(n),s=t(5),c=t.n(s),l=t(4),u=t.n(l),d=(t(183),t(127),t(37),t(68),t(103),t(23),t(80),t(67),t(1)),h=t(7),m=t(28),p=t(675),v=t(611),f=t(6),A=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Canada/Atlantic","Canada/Central","Canada/Eastern","Canada/Mountain","Canada/Newfoundland","Canada/Pacific","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","GMT","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","US/Alaska","US/Arizona","US/Central","US/Eastern","US/Hawaii","US/Mountain","US/Pacific","UTC"],g=function(){var a=this;return o()(this,void 0),A.map(function(e){return o()(this,a),{id:e,name:e}}.bind(this))}.bind(void 0),_=t(102);function b(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,i)}return t}function y(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?b(Object(t),!0).forEach((function(e){c()(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}var j=[{name:"view",power:"project_view",text:d.a.t("查看"),enter:d.a.t("进入")},{name:"mandate",power:"project_edit",text:d.a.t("项目配置")},{name:"edit",power:"project_edit",text:d.a.t("编辑")},{name:"start",power:"project_edit",text:d.a.t("启用")},{name:"stop",power:"project_edit",text:d.a.t("停用")}],C=[{id:"id",label:"ID",width:80},{id:"bk_biz_id",label:"CC_ID",width:80},{id:"name",label:d.a.t("项目名称"),disabled:!0,min_width:200},{id:"desc",label:d.a.t("项目描述")},{id:"creator",label:d.a.t("创建人")}],P={name:"ProjectHome",components:{Skeleton:p.a,NoData:v.a},mixins:[_.a],data:function(){return{firstLoading:!0,OptBtnList:j,searchStr:"",projectList:[],loading:!1,totalPage:1,isClosedShow:!1,isProjectDialogShow:!1,isOperationDialogShow:!1,dialogType:"create",operationType:"stop",projectDetailLoading:!1,addPengding:!1,updatePending:!1,isMandateView:!1,projectDetail:{name:"",timeZone:"Asia/Shanghai",desc:""},timeZoneList:g(),nameRule:{required:!0,max:f.i.PROJECT_NAME_MAX_LENGTH,regex:f.e},descRule:{max:f.i.PROJECT_DESC_LENGTH},projectActions:[],pagination:{current:1,count:0,limit:15,"limit-list":[15,30,50,100]},tableFields:C,setting:{fieldList:C,selectedFields:C.slice(0),size:"small"}}},computed:y(y({},Object(h.e)("project",{project_id:function(a){return o()(this,void 0),a.project_id}.bind(void 0)})),{},{projectDialogTitle:function(){return"create"===this.dialogType?d.a.t("新建项目"):d.a.t("编辑项目")},projectStatusTitle:function(){return"stop"===this.operationType?d.a.t("停用"):d.a.t("启用")}}),created:function(){var a=this;return r()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getFields(),a.queryProjectCreatePerm(),a.onSearchInput=m.a.debounce(a.searchInputhandler,500),e.next=5,a.getProjectList();case 5:a.firstLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},methods:y(y(y(y(y({},Object(h.d)("project",["setTimeZone"])),Object(h.d)("atomForm",["clearAtomForm"])),Object(h.b)(["queryUserPermission"])),Object(h.b)("project",["loadUserProjectList","createProject","loadProjectDetail","updateProject","changeDefaultProject"])),{},{queryProjectCreatePerm:function(){var a=this;return r()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.queryUserPermission({action:"project_create"});case 3:e.sent.data.is_allow&&(a.projectActions=["project_create"]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getProjectList:function(){var a=this;return r()(u.a.mark((function e(){var t,i,r,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.loading=!0,e.prev=1,t={limit:a.pagination.limit,offset:(a.pagination.current-1)*a.pagination.limit,is_disable:a.isClosedShow},""!==a.searchStr&&(t.q=a.searchStr),e.next=6,a.loadUserProjectList(t);case 6:i=e.sent,a.projectList=(i.objects||[]).map(function(a){return o()(this,n),a.from_cmdb||(a.bk_biz_id="--"),a}.bind(this)),a.pagination.count=i.meta.total_count,r=Math.ceil(a.pagination.count/a.pagination.limit),a.totalPage=r||1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:return e.prev=16,a.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})))()},getFields:function(){var a=this,e=localStorage.getItem("ProjectList");if(e){var t=JSON.parse(e),i=t.fieldList,r=t.size;this.setting.size=r,this.setting.selectedFields=this.tableFields.slice(0).filter(function(e){return o()(this,a),i.includes(e.id)}.bind(this))}},getProjectDetail:function(a){var e=this;return r()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.projectDetailLoading=!1,t.next=4,e.loadProjectDetail(a);case 4:e.projectDetail=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.prev=10,e.projectDetailLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},addProject:function(){var a=this;return r()(u.a.mark((function e(){var t,i,r,n,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.addPengding){e.next=2;break}return e.abrupt("return");case 2:return a.addPengding=!0,e.prev=3,t=a.projectDetail,i=t.name,r=t.timeZone,n=t.desc,o={name:i,desc:n,time_zone:r},e.next=8,a.createProject(o);case 8:a.isProjectDialogShow=!1,a.getProjectList(),a.loadUserProjectList({limit:0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:return e.prev=16,a.addPengding=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})))()},changeProject:function(){var a=arguments,e=this;return r()(u.a.mark((function t(){var i,r,n,o,s,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a.length>0&&void 0!==a[0]&&a[0],!e.updatePending){t.next=3;break}return t.abrupt("return");case 3:return e.updatePending=!0,t.prev=4,r=e.projectDetail,n=r.id,o=r.name,s=r.timeZone,c=r.desc,l={id:n,name:o,desc:c,time_zone:s,is_disable:i},t.next=9,e.updateProject(l);case 9:e.isProjectDialogShow=!1,e.isOperationDialogShow=!1,e.clearProjectDetail(),e.getProjectList(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.log(t.t0);case 18:return t.prev=18,e.updatePending=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()},handleSettingChange:function(a){var e=this,t=a.fields,i=a.size;this.setting.size=i,this.setting.selectedFields=t;var r=t.map(function(a){return o()(this,e),a.id}.bind(this));localStorage.setItem("ProjectList",JSON.stringify({fieldList:r,size:i}))},onPageChange:function(a){this.pagination.current=a,this.getProjectList()},searchInputhandler:function(){this.pagination.current=1,this.getProjectList()},clearProjectDetail:function(){this.projectDetail={name:"",timeZone:"Asia/Shanghai",desc:""}},onClosedProjectToggle:function(){this.pagination.current=1,this.getProjectList()},onCreateProject:function(){this.hasPermission(["project_create"],this.projectActions)?(this.dialogType="create",this.isProjectDialogShow=!0):this.applyForPermission(["project_create"])},onViewProject:function(a){var e=this;return r()(u.a.mark((function t(){var i,r,n,s=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasPermission(["project_view"],a.auth_actions)){t.next=4;break}return i={project:[{id:a.id,name:a.name}]},e.applyForPermission(["project_view"],a.auth_actions,i),t.abrupt("return");case 4:return r=a.id,t.next=7,e.changeDefaultProject(r);case 7:n=e.projectList.find(function(a){return o()(this,s),Number(a.id)===Number(r)}.bind(this)).time_zone||"Asia/Shanghai",e.setTimeZone(n),e.clearAtomForm(),e.$router.push({name:"process",params:{project_id:r}});case 11:case"end":return t.stop()}}),t,this)})))()},onGoToConfig:function(a){if(this.hasPermission(["project_edit"],a.auth_actions))this.$router.push({name:"projectConfig",params:{id:a.id}});else{var e={project:[{id:a.id,name:a.name}]};this.applyForPermission(["project_edit"],a.auth_actions,e)}},onEditProject:function(a){if(this.hasPermission(["project_edit"],a.auth_actions))this.isProjectDialogShow=!0,this.dialogType="edit",this.projectDetail={id:a.id,name:a.name,timeZone:a.time_zone,desc:a.desc};else{var e={project:[{id:a.id,name:a.name}]};this.applyForPermission(["project_edit"],a.auth_actions,e)}},onEditProjectCancel:function(){this.isProjectDialogShow=!1,this.clearProjectDetail()},onProjectConfirm:function(){var a=this;this.$validator.validateAll().then(function(e){o()(this,a),e&&("edit"===this.dialogType?this.changeProject():this.addProject())}.bind(this))},onChangeTimeZone:function(a){this.projectDetail.timeZone=a},onChangeProjectStatus:function(a,e){if(this.hasPermission(["project_edit"],a.auth_actions))this.operationType=e,this.projectDetail={id:a.id,name:a.name,timeZone:a.time_zone,desc:a.desc},this.isOperationDialogShow=!0;else{var t={project:[{id:a.id,name:a.name}]};this.applyForPermission(["project_edit"],a.auth_actions,t)}},onChangeStatusConfirm:function(){var a="stop"===this.operationType;this.isOperationDialogShow=!1,this.changeProject(a)},isShowOptBtn:function(a,e){return a?"start"===e:["view","stop","mandate"].includes(e)},onClickOptBtn:function(a,e){switch(e){case"view":this.onViewProject(a);break;case"mandate":this.onGoToConfig(a);break;default:this.onChangeProjectStatus(a,e)}},handlePageLimitChange:function(a){this.pagination.limit=a,this.pagination.current=1,this.getProjectList()}})},w=(t(1428),t(9)),k=Object(w.a)(P,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"project-container"},[t("skeleton",{attrs:{loading:a.firstLoading,loader:"commonList"}},[t("div",{staticClass:"list-wrapper"},[t("div",{staticClass:"list-header"},[t("div",{staticClass:"filter-area"},[t("bk-checkbox",{on:{change:a.onClosedProjectToggle},model:{value:a.isClosedShow,callback:function(e){a.isClosedShow=e},expression:"isClosedShow"}},[a._v(a._s(a.$t("显示已停用项目")))]),a._v(" "),t("div",{staticClass:"search-input"},[t("bk-input",{staticClass:"search-input",attrs:{clearable:"","right-icon":"bk-icon icon-search",placeholder:a.$t("请输入ID、名称、描述、创建人")},on:{change:a.onSearchInput},model:{value:a.searchStr,callback:function(e){a.searchStr="string"==typeof e?e.trim():e},expression:"searchStr"}})],1)],1)]),a._v(" "),t("div",{staticClass:"project-table-content"},[t("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:!a.firstLoading&&a.loading,opacity:1,zIndex:100},expression:"{ isLoading: !firstLoading && loading, opacity: 1, zIndex: 100 }"}],staticClass:"project-table",attrs:{data:a.projectList,pagination:a.pagination,size:a.setting.size},on:{"page-change":a.onPageChange,"page-limit-change":a.handlePageLimitChange}},[a._l(a.setting.selectedFields,(function(e){return t("bk-table-column",{key:e.id,attrs:{label:e.label,prop:e.id,width:e.width,"min-width":e.min_width},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n                            "+a._s(t.row[e.id]||"--")+"\n                        ")]}}],null,!0)})})),a._v(" "),t("bk-table-column",{attrs:{label:a.$t("操作")},scopedSlots:a._u([{key:"default",fn:function(e){return[a._l(a.OptBtnList,(function(i,r){return[a.isShowOptBtn(e.row.is_disable,i.name)?t("a",{directives:[{name:"cursor",rawName:"v-cursor",value:{active:!a.hasPermission([i.power],e.row.auth_actions)},expression:"{ active: !hasPermission([item.power], props.row.auth_actions) }"}],key:r,class:["operate-btn",{"text-permission-disable":!a.hasPermission([i.power],e.row.auth_actions)}],attrs:{text:!0},on:{click:function(t){return a.onClickOptBtn(e.row,i.name)}}},[a._v("\n                                    "+a._s("view"===i.name&&a.hasPermission([i.power],e.row.auth_actions)?i.enter:i.text)+"\n                                ")]):a._e()]}))]}}])}),a._v(" "),t("bk-table-column",{attrs:{type:"setting"}},[t("bk-table-setting-content",{attrs:{fields:a.setting.fieldList,selected:a.setting.selectedFields,size:a.setting.size},on:{"setting-change":a.handleSettingChange}})],1),a._v(" "),t("div",{staticClass:"empty-data",attrs:{slot:"empty"},slot:"empty"},[t("NoData")],1)],2)],1)])]),a._v(" "),t("bk-dialog",{attrs:{width:"600",padding:"30px 20px","ext-cls":"common-dialog",theme:"primary","mask-close":!1,"header-position":"left",title:a.projectDialogTitle,value:a.isProjectDialogShow},on:{confirm:a.onProjectConfirm,cancel:a.onEditProjectCancel}},[t("div",{staticClass:"dialog-content"},[t("div",{staticClass:"common-form-item"},[t("label",{staticClass:"required"},[a._v(a._s(a.$t("名称")))]),a._v(" "),t("div",{staticClass:"common-form-content"},[t("bk-input",{directives:[{name:"validate",rawName:"v-validate",value:a.nameRule,expression:"nameRule"}],attrs:{name:"projectName",disabled:"edit"===a.dialogType,"data-vv-validate-on":" "},model:{value:a.projectDetail.name,callback:function(e){a.$set(a.projectDetail,"name",e)},expression:"projectDetail.name"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.veeErrors.has("projectName"),expression:"veeErrors.has('projectName')"}],staticClass:"common-error-tip error-msg"},[a._v(a._s(a.veeErrors.first("projectName")))])],1)]),a._v(" "),t("div",{staticClass:"common-form-item"},[t("label",{staticClass:"required"},[a._v(a._s(a.$t("时区")))]),a._v(" "),t("div",{staticClass:"common-form-content"},[t("bk-select",{attrs:{searchable:!0,disabled:"edit"===a.dialogType,placeholder:a.$t("请选择")},on:{selected:a.onChangeTimeZone},model:{value:a.projectDetail.timeZone,callback:function(e){a.$set(a.projectDetail,"timeZone",e)},expression:"projectDetail.timeZone"}},a._l(a.timeZoneList,(function(a,e){return t("bk-option",{key:e,attrs:{id:a.id,name:a.name}})})),1)],1)]),a._v(" "),t("div",{staticClass:"common-form-item"},[t("label",[a._v(a._s(a.$t("描述")))]),a._v(" "),t("div",{staticClass:"common-form-content"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:a.projectDetail.desc,expression:"projectDetail.desc"},{name:"validate",rawName:"v-validate",value:a.descRule,expression:"descRule"}],attrs:{rows:"5",name:"projectDesc","data-vv-validate-on":" "},domProps:{value:a.projectDetail.desc},on:{input:function(e){e.target.composing||a.$set(a.projectDetail,"desc",e.target.value)}}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.veeErrors.has("projectDesc"),expression:"veeErrors.has('projectDesc')"}],staticClass:"common-error-tip error-msg"},[a._v(a._s(a.veeErrors.first("projectDesc")))])])])])]),a._v(" "),t("bk-dialog",{attrs:{width:"400",padding:"30px","ext-cls":"common-dialog",theme:"primary","mask-close":!1,"header-position":"left",title:a.projectStatusTitle,value:a.isOperationDialogShow},on:{confirm:a.onChangeStatusConfirm,cancel:function(e){a.isOperationDialogShow=!1}}},[t("div",{staticClass:"operation-dialog-tips"},[a._v("\n            "+a._s(a.$t("确认"))+a._s("start"===a.operationType?a.$t("启用"):a.$t("停用"))+a._s(a.$t("项目"))+":"+a._s(a.projectDetail.name)+"?\n        ")])])],1)}),[],!1,null,"4a5b1c7e",null);e.default=k.exports},611:function(a,e,t){"use strict";var i={name:"NoData",props:{message:{type:String,default:function(){return""}}}},r=(t(634),t(9)),n=Object(r.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"no-data-wrapper"},[t("div",{staticClass:"no-data"},[t("i",{staticClass:"common-icon-no-data"}),a._v(" "),t("p",{staticClass:"no-data-wording"},[a._t("default",(function(){return[a._v(a._s(a.message||a.$t("无数据")))]}))],2)])])}),[],!1,null,"03c0cb01",null);e.a=n.exports},625:function(a,e,t){},634:function(a,e,t){"use strict";t(625)},675:function(a,e,t){"use strict";var i=t(0),r=t.n(i);t(22),t(101),t(39),t(185),t(23),t(67),t(26);var n={components:{},props:{loading:{type:Boolean,default:!0},loader:{type:String},width:{type:Number},height:{type:Number},delay:{type:Number,default:300},backgroundColor:{type:String,default:"#f4f7fa"}},data:function(){return{localLoading:this.loading,isLoaderShow:this.loading}},watch:{loading:function(a,e){var t=this;e&&!a?setTimeout(function(){var a=this;r()(this,t),this.localLoading=this.loading,setTimeout(function(){r()(this,a),this.isLoaderShow=this.loading}.bind(this),200)}.bind(this),this.delay):(this.localLoading=this.loading,this.isLoaderShow=this.loading)}},beforeCreate:function(){var a=this,e=function(){var a=this,e={},i=t(908);return i.keys().forEach(function(t){r()(this,a);var n=i(t).default;e[n.name]=n}.bind(this)),e}();Object.keys(e).forEach(function(t){r()(this,a),this.$options.components[t]=e[t]}.bind(this))}},o=(t(909),t(9)),s=Object(o.a)(n,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{class:[{"ag-loading-content":a.isLoaderShow,loading:a.localLoading,fadeout:!a.localLoading}],style:{"min-height":a.localLoading&&a.height?a.height+"px":"100%"}},[t("div",{class:["loading-loader",{hide:!a.isLoaderShow}],style:{"background-color":a.backgroundColor}},[a.loader?[t(a.loader,{tag:"component"})]:[a._m(0)]],2),a._v(" "),a._t("default")],2)}),[function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"bk-loading",staticStyle:{position:"absolute","z-index":"10","background-color":"rgba(255, 255, 255, 0.9)"}},[e("div",{staticClass:"bk-loading-wrapper"},[e("div",{staticClass:"bk-loading1 bk-colorful bk-size-large"},[e("div",{staticClass:"point point1"}),this._v(" "),e("div",{staticClass:"point point2"}),this._v(" "),e("div",{staticClass:"point point3"}),this._v(" "),e("div",{staticClass:"point point4"})])])])}],!1,null,"6d3e82fc",null);e.a=s.exports},686:function(a,e,t){"use strict";t.d(e,"a",(function(){return o}));var i=t(196),r=t.n(i),n=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(a,e){var t=e.props,i=e.data,o=e.children,s=t.uniqueKey?t.uniqueKey+"-idClip":n(),c=t.uniqueKey?t.uniqueKey+"-idGradient":n();return a("svg",r()([i,{attrs:{viewBox:"0 0 "+t.width+" "+t.height,version:"1.1",preserveAspectRatio:t.preserveAspectRatio}}]),[a("rect",{style:{fill:"url("+t.baseUrl+"#"+c+")"},attrs:{"clip-path":"url("+t.baseUrl+"#"+s+")",x:"0",y:"0",width:t.width,height:t.height}}),a("defs",[a("clipPath",{attrs:{id:s}},[o||a("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:t.width,height:t.height}})]),a("linearGradient",{attrs:{id:c}},[a("stop",{attrs:{offset:"0%","stop-color":t.primaryColor,"stop-opacity":t.primaryOpacity}},[t.animate?a("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:t.speed+"s",repeatCount:"indefinite"}}):null]),a("stop",{attrs:{offset:"50%","stop-color":t.secondaryColor,"stop-opacity":t.secondaryOpacity}},[t.animate?a("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:t.speed+"s",repeatCount:"indefinite"}}):null]),a("stop",{attrs:{offset:"100%","stop-color":t.primaryColor,"stop-opacity":t.primaryOpacity}},[t.animate?a("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:t.speed+"s",repeatCount:"indefinite"}}):null])])])])}}},791:function(a,e,t){},908:function(a,e,t){var i={"./appmakerList.vue":998,"./commonList.vue":999,"./taskList.vue":1e3,"./templateList.vue":1001};function r(a){var e=n(a);return t(e)}function n(a){var e=i[a];if(!(e+1)){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}return e}r.keys=function(){return Object.keys(i)},r.resolve=n,a.exports=r,r.id=908},909:function(a,e,t){"use strict";t(791)},998:function(a,e,t){"use strict";t.r(e);var i={name:"appmakerList",components:{ContentLoader:t(686).a},props:{loadingConf:{type:Object,default:function(){return{primaryColor:"#ebecf3",secondaryColor:"#f6f7fb"}}}}},r=t(9),n=Object(r.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("content-loader",{attrs:{width:1366,height:700,speed:a.loadingConf.speed,"primary-color":a.loadingConf.primaryColor,"secondary-color":a.loadingConf.secondaryColor}},[t("path",{attrs:{d:"M 20 20 h 128 v 32 H 20 z"}}),a._v(" "),t("path",{attrs:{d:"M 857 26 h 80 v 20 h -80 z"}}),a._v(" "),t("path",{attrs:{d:"M 984 20 h 360 v 32 H 984 z"}}),a._v(" "),t("rect",{attrs:{x:"20",y:"72",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"355",y:"72",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"690",y:"72",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"1024",y:"72",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"20",y:"276",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"355",y:"276",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"690",y:"276",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"1024",y:"276",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"20",y:"480",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"355",y:"479",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"690",y:"479",rx:"2",ry:"2",width:"320",height:"184"}}),a._v(" "),t("rect",{attrs:{x:"1024",y:"479",rx:"2",ry:"2",width:"320",height:"184"}})])}),[],!1,null,null,null);e.default=n.exports},999:function(a,e,t){"use strict";t.r(e);var i={name:"commonList",components:{ContentLoader:t(686).a},props:{loadingConf:{type:Object,default:function(){return{primaryColor:"#ebecf3",secondaryColor:"#f6f7fb"}}}}},r=t(9),n=Object(r.a)(i,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("content-loader",{attrs:{width:1366,height:600,speed:a.loadingConf.speed,"primary-color":a.loadingConf.primaryColor,"secondary-color":a.loadingConf.secondaryColor}},[t("path",{attrs:{d:"M 940 6 h 80 v 20 h -80 z"}}),a._v(" "),t("path",{attrs:{d:"M 1046 0 h 360 v 32 h -360 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 52 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 92 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 132 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 172 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 212 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 252 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 292 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 332 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 372 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}}),a._v(" "),t("path",{attrs:{d:"M 0 412 h 1366 v 24 H 0 v -24 z m 0 0 h 1366 v 24 H 0 v -24 z"}})])}),[],!1,null,null,null);e.default=n.exports}}]);